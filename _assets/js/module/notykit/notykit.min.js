"use strict";!function(a){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var b=module.exports||exports;a(b)}else"function"==typeof define&&define.amd?define(["exports"],a):"function"==typeof define&&define.cmd?define(a):a(function(){},window.NotyKit={},{})}(function(a,b,c){function e(a,b){a="object"==typeof a&&a.length>0?a.find("*"):$("body *"),b=b>0?b+1:-1;var c=Math.max.apply(null,$.map(a,function(a,b){return"absolute"==$(a).css("layout")||"fixed"==$(a).css("layout")?parseInt($(a).css("z-index"))||1:void 0}));return c=c==-(1/0)?1:c,-1!=b&&(c=b>c?c:b),c}function f(a,b,c){var d="string"==typeof b&&""!=b?b:null,e="undefined"!=typeof c?c:null;if("object"==typeof a&&null!=a&&null!=d)for(var f in a)if("object"==typeof a[f]&&null!=a[f])if(null!=e){if(a[f][d]===e||"object"==typeof e&&a[f][d].is(e))return{index:parseInt(f),item:a[f]}}else if(a[f].hasOwnProperty(d))return{index:parseInt(f),item:a[f]};return{index:-1,item:null}}function g(a,b,c,d){var e="string"==typeof b&&"top"==b.toLowerCase()?0:"string"==typeof b&&"center"==b.toLowerCase()?(a.outerHeight()-d)/2:"string"==typeof b&&"bottom"==b.toLowerCase()?a.outerHeight()-d:"string"==typeof b&&"topleft"==b.toLowerCase()?0:"string"==typeof b&&"centerleft"==b.toLowerCase()?(a.outerHeight()-d)/2:"string"==typeof b&&"bottomleft"==b.toLowerCase()?a.outerHeight()-d:"string"==typeof b&&"topright"==b.toLowerCase()?0:"string"==typeof b&&"centerright"==b.toLowerCase()?(a.outerHeight()-d)/2:"string"==typeof b&&"bottomright"==b.toLowerCase()?a.outerHeight()-d:"string"==typeof b&&"windowscenter"==b.toLowerCase()?$(document).scrollTop()+($(window).height()-d)/2:"string"==typeof b&&"windowsleft"==b.toLowerCase()?$(document).scrollTop()+($(window).height()-d)/2:"string"==typeof b&&"windowsright"==b.toLowerCase()?$(document).scrollTop()+($(window).height()-d)/2:"object"==typeof b&&null!=b?b.top>0?b.top:0:(a.outerHeight()-d)/2,f="string"==typeof b&&"top"==b.toLowerCase()?(a.outerWidth()-c)/2:"string"==typeof b&&"center"==b.toLowerCase()?(a.outerWidth()-c)/2:"string"==typeof b&&"bottom"==b.toLowerCase()?(a.outerWidth()-c)/2:"string"==typeof b&&"topleft"==b.toLowerCase()?0:"string"==typeof b&&"centerleft"==b.toLowerCase()?0:"string"==typeof b&&"bottomleft"==b.toLowerCase()?0:"string"==typeof b&&"topright"==b.toLowerCase()?a.outerWidth()-c:"string"==typeof b&&"centerright"==b.toLowerCase()?a.outerWidth()-c:"string"==typeof b&&"bottomright"==b.toLowerCase()?a.outerWidth()-c:"string"==typeof b&&"windowscenter"==b.toLowerCase()?$(document).scrollLeft()+(a.outerWidth()-c)/2:"string"==typeof b&&"windowsleft"==b.toLowerCase()?$(document).scrollLeft():"string"==typeof b&&"windowsright"==b.toLowerCase()?$(document).scrollLeft()+$(window).width()-c:"object"==typeof b&&null!=b?b.left>0?b.left:0:(a.outerWidth()-c)/2;return{top:e,left:f}}function h(a){var b="";return $.each(a,function(c,d){var e="click"===d.toLowerCase()?"click":"hover"===d.toLowerCase()?"hover":"dblclick"===d.toLowerCase()?"dblclick":"mousedown"===d.toLowerCase()?"mousedown":"mousemove"===d.toLowerCase()?"mousemove":"mouseout"===d.toLowerCase()?"mouseout":"mouseover"===d.toLowerCase()?"mouseover":"mouseup"===d.toLowerCase()?"mouseup":"change"===d.toLowerCase()?"change":"input"===d.toLowerCase()?"input propertychange":"keydown"===d.toLowerCase()?"keydown":"keypress"===d.toLowerCase()?"keypress":"reset"===d.toLowerCase()?"reset":"resize"===d.toLowerCase()?"resize":"select"===d.toLowerCase()?"select":"submit"===d.toLowerCase()?"submit":"unload"===d.toLowerCase()?"unload":"";c<a.length-1&&""!=e&&(e+=" "),b+=e}),b}function i(a,b){var c=a.parents(b),d=a.parent();c.find("*").each(function(){return $(this).is(d)?(d.css({position:"relative"}),!1):void $(this).css({position:"relative"})})}function j(a){var b=m.options;a="object"==typeof a&&null!=a?a:b;var c="notykit_"+(new Date).getTime()*Math.floor(1e6*Math.random()),d=a.obj?a.obj:$("body"),e=a.width>0?a.width:b.width,f=a.height>0?a.height:b.height,g="undefined"!=typeof a.background&&-1!=a.background.indexOf("rgba(")?a.background:b.background,h="undefined"==typeof a.shade||a.shade?b.shade:!1,i="undefined"!=typeof a.layout&&""!==a.layout?a.layout:b.layout,j="number"==typeof a.zIndex?a.zIndex:b.zIndex,l="undefined"!=typeof a.template&&""!==a.template?a.template:b.template,n="undefined"!=typeof a.title&&"object"==typeof a.title?{text:"undefined"!=typeof a.title.text&&""!==a.title.text?a.title.text:b.title.text,container:"undefined"!=typeof a.title.container&&""!==a.title.container?a.title.container:b.title.container,addClass:"undefined"!=typeof a.title.addClass&&""!==a.title.addClass?a.title.addClass:b.title.addClass}:b.title,o="undefined"!=typeof a.text&&"object"==typeof a.text?{text:"undefined"!=typeof a.text.text&&""!==a.text.text?a.text.text:b.text.text,container:"undefined"!=typeof a.text.container&&""!==a.text.container?a.text.container:b.text.container,addClass:"undefined"!=typeof a.text.addClass&&""!==a.text.addClass?a.text.addClass:b.text.addClass}:b.text,p="undefined"!=typeof a.closeItem&&"object"==typeof a.closeItem?a.closeItem:b.closeItem,q="undefined"!=typeof a.callback&&"object"==typeof a.callback?a.callback:b.callback,r="undefined"!=typeof a.buttons&&"object"==typeof a.buttons?a.buttons:b.buttons,s="undefined"!=typeof a.theme&&""!==a.theme?a.theme:b.theme,t={};return t.id=c,t.obj=d,t.width=e,t.height=f,t.background=h?g:"transparent",t.shade=h,t.layout=i,t.zIndex=j,t.template=l,t.title=n,t.text=o,t.closeItem=p,t.callback=q,t.buttons=r,t.theme=s,k.push({id:t.id,notykit:t}),Object.create(m).build(t)}"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b});var k=[],l='<div class="noty_border">    <div class="noty_title"></div>    <div class="noty_text"></div>    <div class="noty_foot"></div></div>',m={options:{id:"",obj:$("body"),width:600,height:400,background:"rgba(0,0,0,.1)",shade:!0,layout:"center",zIndex:e()+1,template:l,title:{container:".noty_title",text:"",addClass:""},text:{container:".noty_text",text:"",addClass:""},closeItem:[{container:".notykit_content",closeWith:["click"],text:'<span class="icon-remove"></span>',layout:"topright",addClass:"close"}],callback:{onShow:function(a){},afterShow:function(a){},onClose:function(a){},afterClose:function(a){}},buttons:[{container:".noty_foot",addClass:"",btnWith:["click"],text:"\u786e\u5b9a",callback:function(a){}},{container:".noty_foot",addClass:"",btnWith:["click"],text:"\u53d6\u6d88",callback:function(a){}}],theme:"default.css",type:"alert",animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1},build:function(a){var b="object"==typeof a.callback&&null!=a.callback?a.callback:null,c="function"==typeof b.onShow?b.onShow:function(){},d="function"==typeof b.afterShow?b.afterShow:function(){};"function"==typeof c&&c(a);var e=$("<div class='notykit_container'><div class='notykit_content'></div></div>");$("body>:first").before(e.attr("id",a.id)),$("#"+a.id+" .notykit_content").html(a.template);var f=this.addTitle(a),g=this.addText(a),h=this.addBtnEvent(a);$("#"+a.id).css({position:"absolute",top:a.obj.offset().top,left:a.obj.offset().left,"z-index":a.zIndex,"background-color":a.background}),$("#"+a.id+" .notykit_content").css({position:"relative",width:a.width+"px",height:a.height+"px",overflow:"hidden"}),this.resize_noty(a);var i=this.addCloseEvent(a);return $(window).on("resize",function(){$.each(k,function(a,b){m.resize_noty(b.notykit)})}),"function"==typeof d&&d(a),{notyKitObj:$("#"+a.id),notyKitConfig:a,titleObj:f,textObj:g,closeObj:i,btnObj:h,Close:function(a){Object.create(m).close(this.notyKitConfig),"function"==typeof a&&a()},Show:function(a){this.notyKitObj.show(),"function"==typeof a&&a()},Hidden:function(a){this.notyKitObj.hide(),"function"==typeof a&&a()},AutoSize:function(a){var b=0,c=0;this.notyKitObj.find(".notykit_content > *").each(function(){b<$(this).outerWidth(!0)&&(b=$(this).outerWidth(!0))}),this.notyKitObj.find(".notykit_content > *").each(function(){c+=$(this).outerHeight(!0)}),this.notyKitConfig.width=b,this.notyKitConfig.height=c,b>0&&(this.notyKitConfig.width=b,this.notyKitObj.find(".notykit_content").css({width:b+"px"})),c>0&&(this.notyKitConfig.height=c,this.notyKitObj.find(".notykit_content").css({height:c+"px"})),Object.create(m).resize_noty(this.notyKitConfig),this.notyKitObj.find(".close"+this.notyKitConfig.id).remove(),Object.create(m).addCloseEvent(this.notyKitConfig),$(window).on("resize",function(){m.resize_noty(this.notyKitConfig)}),"function"==typeof a&&a()},Resize:function(a,b){a>0&&(this.notyKitConfig.width=a,this.notyKitObj.find(".notykit_content").css({width:a+"px"})),b>0&&(this.notyKitConfig.height=b,this.notyKitObj.find(".notykit_content").css({height:b+"px"})),Object.create(m).resize_noty(this.notyKitConfig),this.notyKitObj.find(".close"+this.notyKitConfig.id).remove(),Object.create(m).addCloseEvent(this.notyKitConfig),$(window).on("resize",function(){m.resize_noty(this.notyKitConfig)})},SetLayOut:function(a){var b="undefined"!=typeof a&&""!==a?a:this.notyKitConfig.layout;this.notyKitConfig.layout=b,Object.create(m).resize_noty(this.notyKitConfig),$(window).on("resize",function(){m.resize_noty(this.notyKitConfig)})},SetTitle:function(a){this.notyKitObj.find(".notykit_content").css({width:"100%"}),this.notyKitObj.find(".notykit_content").css({height:"100%"}),this.titleObj.html(a),this.AutoSize()},SetText:function(a){this.notyKitObj.find(".notykit_content").css({width:"100%"}),this.notyKitObj.find(".notykit_content").css({height:"100%"}),this.textObj.html(a),this.AutoSize()},SetClose:function(a){a="undefined"!=typeof a&&"object"==typeof a?a:m.options.closeItem,this.notyKitConfig.closeItem=a,this.notyKitObj.find(".notykit_content").css({width:"100%"}),this.notyKitObj.find(".notykit_content").css({height:"100%"}),Object.create(m).addCloseEvent(this.notyKitConfig),this.AutoSize()},SetBtn:function(a){a="undefined"!=typeof a&&"object"==typeof a?a:m.options.buttons,this.notyKitConfig.buttons=close,this.notyKitObj.find(".notykit_content").css({width:"100%"}),this.notyKitObj.find(".notykit_content").css({height:"100%"}),Object.create(m).addBtnEvent(this.notyKitConfig),this.AutoSize()}}},addTitle:function(a){var b=$("#"+a.id),c=a.title,d=null;if(b.length>0){var e="undefined"!=typeof c.container&&""!==c.container?c.container:"";e="noty_border"===e.toLowerCase()?".noty_title":"noty_title"===e.toLowerCase()?".noty_title":"noty_text"===e.toLowerCase()?".noty_title":"noty_foot"===e.toLowerCase()?".noty_title":"notykit_content"===e.toLowerCase()?".noty_title":e;var f="undefined"!=typeof c.text&&""!==c.text?c.text:"",g="undefined"!=typeof c.addClass&&""!==c.addClass?c.addClass:"";if(""!==e&&""!==f){var h=b.find(e);h.is(".notykit_container")||(h.css({position:"relative"}),i(h,".notykit_content")),h.length>0&&(d=$("<span class='title"+a.id+"'>"+f+"</span>"),""!=g&&d.addClass(g),h.append(d))}}return d},addText:function(a){var b=$("#"+a.id),c=a.text,d=null;if(b.length>0){var e="undefined"!=typeof c.container&&""!==c.container?c.container:"";e="noty_border"===e.toLowerCase()?".noty_text":"noty_title"===e.toLowerCase()?".noty_text":"noty_text"===e.toLowerCase()?".noty_text":"noty_foot"===e.toLowerCase()?".noty_text":"notykit_content"===e.toLowerCase()?".noty_text":e;var f="undefined"!=typeof c.text&&""!==c.text?c.text:"",g="undefined"!=typeof c.addClass&&""!==c.addClass?c.addClass:"";if(""!==e&&""!==f){var h=b.find(e);h.is(".notykit_container")||(h.css({position:"relative"}),i(h,".notykit_content")),h.length>0&&(d=$("<span class='text"+a.id+"'>"+f+"</span>"),""!=g&&d.addClass(g),h.append(d))}}return d},addCloseEvent:function(a){var b=$("#"+a.id),c=a.closeItem;$(".close"+a.id).remove();var d=null;return b.length>0&&($.each(c,function(c,d){var f="undefined"!=typeof d.container&&""!==d.container?d.container:"";f="noty_border"===f.toLowerCase()?".noty_border":"noty_title"===f.toLowerCase()?".noty_title":"noty_text"===f.toLowerCase()?".noty_text":"noty_foot"===f.toLowerCase()?".noty_foot":"notykit_content"===f.toLowerCase()?".notykit_content":"notykit_container"===f.toLowerCase()?".notykit_container":f;var g="undefined"!=typeof d.layout&&""!==d.layout?d.layout:"centerleft",j="undefined"!=typeof d.addClass&&""!==d.addClass?d.addClass:"",k="undefined"!=typeof d.text&&""!==d.text?d.text:"",l="undefined"!=typeof d.closeWith&&""!==d.closeWith&&""!==h(d.closeWith)?h(d.closeWith):"";if(""!=f&&""!=l){var n=b.find(f);if(".notykit_container"===f&&(n=b),n.is(".notykit_container")||(n.css({position:"relative"}),i(n,".notykit_content")),""!=k){var o=$("<div class='close"+a.id+"'>"+k+"</div>");""!=j&&o.addClass(j),o.css({position:"absolute","z-index":e()+1}),n.append(o),m.resize_close(n,g,o),$(window).on("resize",function(){m.resize_close(n,g,o)}),o.off(l),o.on(l,function(){m.close(a)})}else n.off(l),n.on(l,function(){m.close(a)})}}),d=b.find(".close"+a.id)),d},addBtnEvent:function(a){var b=$("#"+a.id),c=a.buttons;$(".btn"+a.id).remove();var d=null;return b.length>0&&($.each(c,function(c,d){var e="undefined"!=typeof d.container&&""!==d.container?d.container:"";e="noty_border"===e.toLowerCase()?".noty_foot":"noty_title"===e.toLowerCase()?".noty_foot":"noty_text"===e.toLowerCase()?".noty_foot":"noty_foot"===e.toLowerCase()?".noty_foot":"notykit_content"===e.toLowerCase()?".noty_foot":e;var f="undefined"!=typeof d.addClass&&""!==d.addClass?d.addClass:"",g="undefined"!=typeof d.text&&""!==d.text?d.text:"",j="undefined"!=typeof d.btnWith&&""!==d.btnWith&&""!==h(d.btnWith)?h(d.btnWith):"click",k="function"==typeof d.callback?d.callback:"";if(""!=e&&""!=g){var l=b.find(e);if(l.is(".notykit_container")||(l.css({position:"relative"}),i(l,".notykit_content")),l.length>0){var m=$("<span class='btn"+a.id+"'>"+g+"</span>");""!=f&&m.addClass(f),l.append(m),m.off(j),m.on(j,function(){k(a)})}}}),d=b.find(".btn"+a.id)),d},resize_close:function(a,b,c){var d=g(a,b,c.outerWidth(),c.outerHeight()),e=d.top,f=d.left;e=0>e&&e+a.offset().top<0?-a.offset().top:e,f=0>f&&f+a.offset().left<0?-a.offset().left:f,c.css({top:e+"px",left:f+"px"})},resize_noty:function(a){if(null!=a){var b=a.id,c=a.obj;if(c.is($("body"))){var d=c.is($("body"))?($(window).width()>c.outerWidth()?$(window).width():c.outerWidth())>a.width?$(window).width()>c.outerWidth()?$(window).width():c.outerWidth():a.width:c.outerWidth()>a.width?c.outerWidth():a.width,e=c.is($("body"))?($(window).height()>c.outerHeight()?$(window).height():c.outerHeight())>a.height?$(window).height()>c.outerHeight()?$(window).height():c.outerHeight():a.height:c.outerHeight()>a.height?c.outerHeight():a.height;c.find("#"+b).css({width:d+"px",height:e+"px",top:c.offset().top+"px",left:c.offset().left+"px"})}else $("#"+b).css({width:c.outerWidth()+"px",height:c.outerHeight()+"px",top:c.offset().top+"px",left:c.offset().left+"px"});var f=0,h=0;if(c.is($("body"))){var i=g(c.find("#"+b),a.layout,a.width,a.height);f=i.top,h=i.left,f=0>f?0:f,h=0>h?0:h}else{var i=g(c,a.layout,a.width,a.height);f=i.top,h=i.left,f=0>f&&f+c.offset().top<0?-c.offset().top:f,h=0>h&&h+c.offset().left<0?-c.offset().left:h}$("#"+b+" .notykit_content").css({top:f+"px",left:h+"px"})}},close:function(a,b){b="boolean"==typeof b&&b===!1?!1:!0;var c=a.id,d=$("#"+a.id),e="object"==typeof a.callback&&null!=a.callback?a.callback:null,g="function"==typeof e.onClose?e.onClose:function(){},h="function"==typeof e.afterClose?e.afterClose:function(){};if("function"==typeof g&&g(a),d.length>0){var i=f(k,"id",c),j=i.index;-1!=j?(b&&k.splice(j,j+1),d.remove(),"function"==typeof h&&h(a)):d.remove()}},destroyAll:function(){$.each(k,function(a,b){null!=b&&m.close(b.notykit,!1)}),k=[]}};b.Create=function(a){return new j(a)},b.Destroy=function(){Object.create(m).destroyAll()}});